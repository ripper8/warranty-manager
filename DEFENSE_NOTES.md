# Warranty Manager - –ö–ª—é—á–æ–≤–∏ —Ç–æ—á–∫–∏ –∑–∞ –∑–∞—â–∏—Ç–∞

## üìä –û—Å–Ω–æ–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ü—Ä–æ–µ–∫—Ç:** –°–∏—Å—Ç–µ–º–∞ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–∞—Ä–∞–Ω—Ü–∏–∏  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** PostgreSQL, Prisma ORM, Next.js 16, NextAuth v5  
**–ë—Ä–æ–π —Ç–∞–±–ª–∏—Ü–∏:** 5 –æ—Å–Ω–æ–≤–Ω–∏ —Ç–∞–±–ª–∏—Ü–∏  
**–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:** 3NF (–¢—Ä–µ—Ç–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞ —Ñ–æ—Ä–º–∞)  

---

## üéØ –ò–∑–ø—ä–ª–Ω–µ–Ω–∏ –∏–∑–∏—Å–∫–≤–∞–Ω–∏—è

### 1. –†–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏ ‚úÖ
- PostgreSQL 15+
- –ü—ä–ª–Ω–∞ —Ä–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Foreign keys —Å CASCADE
- UNIQUE constraints

### 2. –ü—Ä–∞–≤–∏–ª–∞ –∑–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚úÖ

**1NF (–ü—ä—Ä–≤–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞ —Ñ–æ—Ä–º–∞):**
- –í—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞ —Å–∞ –∞—Ç–æ–º–∞—Ä–Ω–∏
- –ù—è–º–∞ –ø–æ–≤—Ç–∞—Ä—è—â–∏ —Å–µ –≥—Ä—É–ø–∏
- –í—Å–µ–∫–∏ —Ä–µ–¥ –µ —É–Ω–∏–∫–∞–ª–µ–Ω

**2NF (–í—Ç–æ—Ä–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞ —Ñ–æ—Ä–º–∞):**
- –°–ø–∞–∑–µ–Ω–∞ 1NF
- –í—Å–∏—á–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ü–µ–ª–∏—è –ø—ä—Ä–≤–∏—á–µ–Ω –∫–ª—é—á
- –ù—è–º–∞ —á–∞—Å—Ç–∏—á–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**3NF (–¢—Ä–µ—Ç–∞ –Ω–æ—Ä–º–∞–ª–Ω–∞ —Ñ–æ—Ä–º–∞):**
- –°–ø–∞–∑–µ–Ω–∞ 2NF
- –ù—è–º–∞ —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è—Ç–∞ –Ω–µ —Å–µ –¥—É–±–ª–∏—Ä–∞

### 3. 4-5 —Ç–∞–±–ª–∏—Ü–∏ —Å –æ—Å–Ω–æ–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ ‚úÖ

**5 —Ç–∞–±–ª–∏—Ü–∏:**
1. User
2. Account
3. AccountUser
4. WarrantyItem
5. Document

**CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞ –≤—Å—è–∫–∞ —Ç–∞–±–ª–∏—Ü–∞:**
- ‚úÖ CREATE - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞–ø–∏—Å–∏
- ‚úÖ READ - –ß–µ—Ç–µ–Ω–µ –∏ —Ñ–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ
- ‚úÖ UPDATE - –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ
- ‚úÖ DELETE - –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ

### 4. ER –î–∏–∞–≥—Ä–∞–º–∞ ‚úÖ
- –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ ER –¥–∏–∞–≥—Ä–∞–º–∞
- Crow's foot notation
- –Ø—Å–Ω–∏ –≤—Ä—ä–∑–∫–∏ –∏ –∫–∞—Ä–¥–∏–Ω–∞–ª–Ω–æ—Å—Ç
- –í–∫–ª—é—á–µ–Ω–∞ –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏

### –¢–∞–±–ª–∏—Ü–∞ 1: User
**–¶–µ–ª:** –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞

**–ü–æ–ª–µ—Ç–∞:**
- `id` (PK) - –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `email` (UNIQUE) - –ò–º–µ–π–ª –∑–∞ –≤—Ö–æ–¥
- `password` - –•–µ—à–∏—Ä–∞–Ω–∞ –ø–∞—Ä–æ–ª–∞ (bcrypt)
- `name` - –ò–º–µ –Ω–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è
- `createdAt`, `updatedAt` - Timestamps

**–í—Ä—ä–∑–∫–∏:**
- 1:N —Å WarrantyItem (—Å—ä–∑–¥–∞—Ç–µ–ª)
- M:N —Å Account (—á—Ä–µ–∑ AccountUser)

---

### –¢–∞–±–ª–∏—Ü–∞ 2: Account
**–¶–µ–ª:** Multi-tenant –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

**–ü–æ–ª–µ—Ç–∞:**
- `id` (PK) - –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `name` - –ò–º–µ –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ç–∞
- `ownerId` - –°–æ–±—Å—Ç–≤–µ–Ω–∏–∫ –Ω–∞ –∞–∫–∞—É–Ω—Ç–∞
- `createdAt`, `updatedAt` - Timestamps

**–í—Ä—ä–∑–∫–∏:**
- M:N —Å User (—á—Ä–µ–∑ AccountUser)
- 1:N —Å WarrantyItem

**–ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞:**
- –ò–∑–æ–ª–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –í—Å–µ–∫–∏ –∞–∫–∞—É–Ω—Ç –∏–º–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–∏ –≥–∞—Ä–∞–Ω—Ü–∏–∏

---

### –¢–∞–±–ª–∏—Ü–∞ 3: AccountUser
**–¶–µ–ª:** Junction table –∑–∞ many-to-many + —Ä–æ–ª–∏

**–ü–æ–ª–µ—Ç–∞:**
- `id` (PK) - –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `accountId` (FK) ‚Üí Account.id
- `userId` (FK) ‚Üí User.id
- `role` (ENUM) - GLOBAL_ADMIN | ACCOUNT_ADMIN | USER

**Constraints:**
- UNIQUE(accountId, userId) - –ï–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –º–æ–∂–µ –¥–∞ –µ –≤ –∞–∫–∞—É–Ω—Ç —Å–∞–º–æ –≤–µ–¥–Ω—ä–∂
- CASCADE DELETE - –ü—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ User/Account

**–ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞:**
- –ï–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –º–æ–∂–µ –¥–∞ –µ –≤ –º–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∏
- –ï–¥–∏–Ω –∞–∫–∞—É–Ω—Ç –º–æ–∂–µ –¥–∞ –∏–º–∞ –º–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏
- –†–∞–∑–ª–∏—á–Ω–∏ —Ä–æ–ª–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ –∞–∫–∞—É–Ω—Ç–∏

---

### –¢–∞–±–ª–∏—Ü–∞ 4: WarrantyItem
**–¶–µ–ª:** –û—Å–Ω–æ–≤–Ω–∞ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ - –≥–∞—Ä–∞–Ω—Ü–∏–æ–Ω–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏

**–ü–æ–ª–µ—Ç–∞:**
- `id` (PK) - –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `accountId` (FK) ‚Üí Account.id
- `createdByUserId` (FK) ‚Üí User.id
- `title` - –ò–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
- `brand`, `model`, `category` - –î–µ—Ç–∞–π–ª–∏
- `purchaseDate` - –î–∞—Ç–∞ –Ω–∞ –ø–æ–∫—É–ø–∫–∞
- `warrantyPeriod` - –ü–µ—Ä–∏–æ–¥ –≤ –º–µ—Å–µ—Ü–∏
- `expiryDate` - –î–∞—Ç–∞ –Ω–∞ –∏–∑—Ç–∏—á–∞–Ω–µ
- `price`, `currency` - –¶–µ–Ω–∞
- `status` - ACTIVE | EXPIRED | ARCHIVED
- `createdAt`, `updatedAt` - Timestamps

**–í—Ä—ä–∑–∫–∏:**
- N:1 —Å Account
- N:1 —Å User (—Å—ä–∑–¥–∞—Ç–µ–ª)
- 1:N —Å Document

**–ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ –Ω–∞ expiryDate
- –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –ø–æ —Å—Ç–∞—Ç—É—Å
- –¢—ä—Ä—Å–µ–Ω–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –º–∞—Ä–∫–∞

---

### –¢–∞–±–ª–∏—Ü–∞ 5: Document
**–¶–µ–ª:** –ü—Ä–∏–∫–∞—á–µ–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –∫—ä–º –ø—Ä–æ–¥—É–∫—Ç–∏

**–ü–æ–ª–µ—Ç–∞:**
- `id` (PK) - –£–Ω–∏–∫–∞–ª–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `warrantyItemId` (FK) ‚Üí WarrantyItem.id
- `type` - RECEIPT | WARRANTY_CARD | PRODUCT_PHOTO
- `url` - –ü—ä—Ç –¥–æ —Ñ–∞–π–ª–∞
- `createdAt` - Timestamp

**–í—Ä—ä–∑–∫–∏:**
- N:1 —Å WarrantyItem
- CASCADE DELETE - –ü—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç

**–ë–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞:**
- –ï–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç –º–æ–∂–µ –¥–∞ –∏–º–∞ –º–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏
- –û—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞–Ω–∏ –ø–æ —Ç–∏–ø
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –ø—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç

---

## üîó –†–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç

### Foreign Keys:
```sql
AccountUser.accountId ‚Üí Account.id (CASCADE)
AccountUser.userId ‚Üí User.id (CASCADE)
WarrantyItem.accountId ‚Üí Account.id (CASCADE)
WarrantyItem.createdByUserId ‚Üí User.id
Document.warrantyItemId ‚Üí WarrantyItem.id (CASCADE)
```

### Unique Constraints:
```sql
User.email (UNIQUE)
AccountUser(accountId, userId) (UNIQUE)
```

### Cascade Delete –ø—Ä–∏–º–µ—Ä–∏:
- –ò–∑—Ç—Ä–∏–µ—à Account ‚Üí –∏–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ AccountUser + WarrantyItem
- –ò–∑—Ç—Ä–∏–µ—à WarrantyItem ‚Üí –∏–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ Document
- –ò–∑—Ç—Ä–∏–µ—à User ‚Üí –∏–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ AccountUser

---

## üìù CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä–∏)

### CREATE - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –≥–∞—Ä–∞–Ω—Ü–∏—è:
```sql
INSERT INTO "WarrantyItem" (
  id, accountId, createdByUserId, title, 
  brand, purchaseDate, warrantyPeriod, status
) VALUES (
  gen_random_uuid()::TEXT,
  'account_123',
  'user_456',
  'MacBook Pro',
  'Apple',
  '2024-01-15',
  12,
  'ACTIVE'
);
```

### READ - –í–∑–µ–º–∏ –≤—Å–∏—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–∏ –≥–∞—Ä–∞–Ω—Ü–∏–∏:
```sql
SELECT 
  w.*,
  u.name as creator_name,
  a.name as account_name,
  COUNT(d.id) as document_count
FROM "WarrantyItem" w
JOIN "User" u ON w.createdByUserId = u.id
JOIN "Account" a ON w.accountId = a.id
LEFT JOIN "Document" d ON w.id = d.warrantyItemId
WHERE w.status = 'ACTIVE'
GROUP BY w.id, u.name, a.name
ORDER BY w.expiryDate ASC;
```

### UPDATE - –ü—Ä–æ–º–µ–Ω–∏ —Å—Ç–∞—Ç—É—Å:
```sql
UPDATE "WarrantyItem"
SET status = 'EXPIRED', updatedAt = NOW()
WHERE expiryDate < NOW() AND status = 'ACTIVE';
```

### DELETE - –ò–∑—Ç—Ä–∏–π –≥–∞—Ä–∞–Ω—Ü–∏—è:
```sql
DELETE FROM "WarrantyItem"
WHERE id = 'warranty_123';
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç –≤—Å–∏—á–∫–∏ Document-–∏ (CASCADE)
```

---

## üé® –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª–Ω–æ (–Ω–∞—Ä—É—à–∞–≤–∞ 3NF):
```sql
WarrantyItem:
  id: "w123"
  title: "MacBook Pro"
  createdByUserId: "u456"
  createdByUserName: "–ê—Ç–∞–Ω–∞—Å"  -- –¢—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç!
  createdByUserEmail: "a@b.com" -- –î—É–±–ª–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏!
```

### ‚úÖ –ü—Ä–∞–≤–∏–ª–Ω–æ (3NF):
```sql
WarrantyItem:
  id: "w123"
  title: "MacBook Pro"
  createdByUserId: "u456"  -- –°–∞–º–æ foreign key

User:
  id: "u456"
  name: "–ê—Ç–∞–Ω–∞—Å"
  email: "a@b.com"
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- –ò–º–µ—Ç–æ —Å–µ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞ —Å–∞–º–æ –Ω–∞ –µ–¥–Ω–æ –º—è—Å—Ç–æ
- –ü—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–º–µ—Ç–æ, –ø—Ä–æ–º–µ–Ω—è–º–µ —Å–∞–º–æ –≤ User —Ç–∞–±–ª–∏—Ü–∞—Ç–∞
- –ù—è–º–∞ –¥—É–±–ª–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞–Ω–Ω–∏

---

## üí° –ö–ª—é—á–æ–≤–∏ –ø—Ä–µ–¥–∏–º—Å—Ç–≤–∞

### 1. Multi-tenant –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ò–∑–æ–ª–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏ –º–µ–∂–¥—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ï–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –º–æ–∂–µ –¥–∞ –µ –≤ –º–Ω–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –†–∞–∑–ª–∏—á–Ω–∏ —Ä–æ–ª–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### 2. –ì—ä–≤–∫–∞–≤–∞ —Ä–æ–ª–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞
- GLOBAL_ADMIN - –ü—ä–ª–µ–Ω –¥–æ—Å—Ç—ä–ø –¥–æ —Å–∏—Å—Ç–µ–º–∞—Ç–∞
- ACCOUNT_ADMIN - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∞–∫–∞—É–Ω—Ç–∞
- USER - –û—Å–Ω–æ–≤–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏

### 3. –†–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç
- Foreign keys –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞—Ç –≤–∞–ª–∏–¥–Ω–∏ –≤—Ä—ä–∑–∫–∏
- CASCADE DELETE –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞ orphan records
- UNIQUE constraints –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç—è–≤–∞—Ç –¥—É–±–ª–∏—Ä–∞–Ω–µ

### 4. –ú–∞—â–∞–±–∏—Ä—É–µ–º–æ—Å—Ç
- –õ–µ—Å–Ω–æ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∏ –ø–æ–ª–µ—Ç–∞
- –õ–µ—Å–Ω–æ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –Ω–æ–≤–∏ —Ç–∞–±–ª–∏—Ü–∏
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–∞–Ω–∏ JOIN-–æ–≤–µ

---

## üöÄ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

### –ö–∞–∫–≤–æ –¥–∞ –ø–æ–∫–∞–∂–µ—à:

1. **ER –¥–∏–∞–≥—Ä–∞–º–∞** (–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ù–û –ø—ä—Ä–≤–æ!)
2. **Prisma Studio** - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –¥–∞–Ω–Ω–∏—Ç–µ
3. **Live –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
   - –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –≥–∞—Ä–∞–Ω—Ü–∏—è
   - –ö–∞—á–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
   - –§–∏–ª—Ç—Ä–∏—Ä–∞–Ω–µ –∏ —Ç—ä—Ä—Å–µ–Ω–µ
4. **SQL –∑–∞—è–≤–∫–∏** - –ü—Ä–∏–º–µ—Ä–Ω–∏ queries –≤ PostgreSQL

### –ö–æ–º–∞–Ω–¥–∏ –∑–∞ –¥–µ–º–æ:
```bash
# –°—Ç–∞—Ä—Ç–∏—Ä–∞–π –±–∞–∑–∞—Ç–∞
docker-compose up -d

# –°—Ç–∞—Ä—Ç–∏—Ä–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
npm run dev

# –û—Ç–≤–æ—Ä–∏ Prisma Studio
npx prisma studio

# PostgreSQL –∫–æ–Ω–∑–æ–ª–∞
docker exec -it warranty_postgres psql -U postgres -d warranty_db
```

---

## ‚ùì –ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏

**–í: –ó–∞—â–æ –∏–∑–ø–æ–ª–∑–≤–∞—à junction table AccountUser?**  
–û: –ó–∞ –¥–∞ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–º many-to-many –≤—Ä—ä–∑–∫–∞ –º–µ–∂–¥—É User –∏ Account. –ï–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –º–æ–∂–µ –¥–∞ –µ –≤ –º–Ω–æ–≥–æ –∞–∫–∞—É–Ω—Ç–∏, –∏ –µ–¥–∏–Ω –∞–∫–∞—É–Ω—Ç –º–æ–∂–µ –¥–∞ –∏–º–∞ –º–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏. –°—ä—â–æ —Ç–∞–∫–∞ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞–º —Ä–æ–ª—è –∑–∞ –≤—Å—è–∫–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è.

**–í: –ó–∞—â–æ ownerId –Ω–µ –µ foreign key?**  
–û: –¢–æ–≤–∞ –µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫ –¥—ä–ª–≥. –í production –≤–µ—Ä—Å–∏—è –±–∏ —Ç—Ä—è–±–≤–∞–ª–æ –¥–∞ –µ foreign key –∫—ä–º User.id –∑–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç.

**–í: –ö–∞–∫ —Å–µ –∏–∑—á–∏—Å–ª—è–≤–∞ expiryDate?**  
–û: expiryDate = purchaseDate + warrantyPeriod (–≤ –º–µ—Å–µ—Ü–∏). –ú–æ–∂–µ –¥–∞ —Å–µ –∏–∑—á–∏—Å–ª–∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ, –Ω–æ –≥–æ —Å—ä—Ö—Ä–∞–Ω—è–≤–∞–º–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç.

**–í: –ó–∞—â–æ Session —Ç–∞–±–ª–∏—Ü–∞—Ç–∞ –Ω–µ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞?**  
–û: –ò–∑–ø–æ–ª–∑–≤–∞–º–µ JWT (JSON Web Tokens) —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–º–µ—Å—Ç–æ database sessions. JWT –µ –ø–æ-–±—ä—Ä–∑ –∏ stateless.

**–í: –ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ –ø—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ Account?**  
–û: –ë–ª–∞–≥–æ–¥–∞—Ä–µ–Ω–∏–µ –Ω–∞ CASCADE DELETE:
- –ò–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ AccountUser –∑–∞–ø–∏—Å–∏
- –ò–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ WarrantyItem –∑–∞–ø–∏—Å–∏
- –ò–∑—Ç—Ä–∏–≤–∞—Ç —Å–µ –≤—Å–∏—á–∫–∏ Document –∑–∞–ø–∏—Å–∏ (—á—Ä–µ–∑ WarrantyItem)

**–í: –ö–∞–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞—Ç–µ —á–µ –µ–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª –Ω–µ –º–æ–∂–µ –¥–∞ –µ –¥–≤–∞ –ø—ä—Ç–∏ –≤ –µ–¥–∏–Ω –∞–∫–∞—É–Ω—Ç?**  
–û: –ß—Ä–µ–∑ UNIQUE constraint –≤—ä—Ä—Ö—É (accountId, userId) –≤ —Ç–∞–±–ª–∏—Ü–∞ AccountUser.

---

## üìö –ò–∑–ø–æ–ª–∑–≤–∞–Ω–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **PostgreSQL 15+** - –†–µ–ª–∞—Ü–∏–æ–Ω–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω–∏
- **Prisma ORM** - Type-safe database client
- **Next.js 16** - React framework
- **NextAuth v5** - Authentication
- **Docker** - Containerization
- **TypeScript** - Type safety

---

## ‚úÖ Checklist –∑–∞ –∑–∞—â–∏—Ç–∞

- [ ] ER –¥–∏–∞–≥—Ä–∞–º–∞—Ç–∞ –µ –Ω–∞ –ø—ä—Ä–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- [ ] –û–±—è—Å–Ω–µ–Ω–∞ –µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è—Ç–∞ (1NF, 2NF, 3NF)
- [ ] –ü–æ–∫–∞–∑–∞–Ω–∏ —Å–∞ –≤—Å–∏—á–∫–∏ 5 —Ç–∞–±–ª–∏—Ü–∏
- [ ] –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–∞–Ω–∏ —Å–∞ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–∫–∞–∑–∞–Ω–∏ —Å–∞ –ø—Ä–∏–º–µ—Ä–Ω–∏ SQL –∑–∞—è–≤–∫–∏
- [ ] –û–±—è—Å–Ω–µ–Ω–∞ –µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª–Ω–∞—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ç–µ—Ç
- [ ] –ü–æ–¥–≥–æ—Ç–≤–µ–Ω–∏ –æ—Ç–≥–æ–≤–æ—Ä–∏ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∏
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —Ä–∞–±–æ—Ç–∏ –ª–æ–∫–∞–ª–Ω–æ

---

**–£—Å–ø–µ—Ö —Å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è—Ç–∞! üéì**
